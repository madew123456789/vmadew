<!DOCTYPE html>
<html translate="no">

<style type="text/css">* {cursor: url(https://cur.cursors-4u.net/cursors/cur-2/cur117.cur), auto !important;}</style><a href="https://www.cursors-4u.com/cursor/2008/12/17/cool-red-outer-glow-pointer.html" target="_blank" title="Cool Red Outer Glow Pointer"><img src="https://cur.cursors-4u.net/cursor.png" border="0" alt="Cool Red Outer Glow Pointer" style="position:absolute; top: 0px; right: 0px;" /></a>
<script type='text/javascript' src='https://platform-api.sharethis.com/js/sharethis.js#property=659399cbd2bb410012d24176&product=powr-social-feed' async='async'></script>
<script>
// Example of using history.pushState()
const newState = { additionalInfo: 'some data' };
const newTitle = 'New Page Title';
const newUrl = '/ğŸ†…ğŸ…¸ğŸ…´ğŸ††-ğŸ†‚ğŸ…¾ğŸ†„ğŸ†ğŸ…²ğŸ…´-ğŸ…±ğŸ…»ğŸ…¾ğŸ…²ğŸ…ºğŸ…´ğŸ…³ ğŸ¤–âœ…ğŸŒğŸ‘¾ğŸš§â›”';

history.pushState(newState, newTitle, newUrl);

</script>

<link rel="icon" type="image/x-icon" href="https://cdn.glitch.global/3e0381c4-a312-453a-a06d-22aaaffe8cb5/stock-vector-glowing-neon-line-dharma-wheel-icon-isolated-black-background-buddhism-modified.ico?v=1716615964861">
 <meta name="google" content="notranslate">
  <meta charset="UTF-8">
    <script>
        // JavaScript to change the title
        let titles = ["Digital Thorana 2024 ğŸŒ", "Digital Thorana 2024 ğŸ–¥ï¸", "Digital Thorana 2024 ğŸ“", "Digital Thorana 2024 ğŸ¤–"];
        let index = 0;

        function changeTitle() {
            document.title = titles[index];
            index = (index + 1) % titles.length;
        }

        setInterval(changeTitle, 20); // Change title every 2 seconds
    </script>
      


<script>
        function handleKeyCommands(event) {
            // Block and redirect for specific keys or combinations
            if ((event.ctrlKey && event.key === 'u') ||  // Ctrl+U
                (event.ctrlKey && event.shiftKey && (event.key === 'I' || event.key === 'i')) ||  // Ctrl+Shift+I
                event.key === 'F11' ||  // F11
                event.key === 'U' ||  // U
                event.key === 'F12' ||  // F12
                event.key === 'PrintScreen') {  // Print Screen
                event.preventDefault();
                console.warn('Attempted to use blocked keys: ', event.key);
                redirectToNewPage();
                return false;
            }

            // Block and warn for copying source code attempts without text selection
            if ((event.ctrlKey || event.metaKey) && event.key === 'c' && window.getSelection().toString().length === 0) {
                console.warn('Attempted to copy without selection');
                redirectToNewPage();
                return false;
            }
        }

        function redirectToNewPage() {
            window.location.href = '/enemy.html';
        }

        document.addEventListener('keydown', handleKeyCommands);
    </script>
          <div id="player">
            <audio controls autoplay hidden>
              <source
                src="https://www.desawanamusic.com/uploads/audios/Mangala-Denex-Budu%20Bana%20Padayak-Desawana-Music.mp3"
                type="audio/mp3"
              />
              unsupported !!
            </audio>

<script>
      if(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {
        window.location.href = "https://my-t-1.glitch.me/?action=set-mobile%20desk=1";
      }
      </script>
<html>
  <style>
  /* Prevent text selection for better security */
  body {
    -webkit-user-select: none; /* Safari */
    -moz-user-select: none;    /* Firefox */
    -ms-user-select: none;     /* IE10+/Edge */
    user-select: none;         /* Standard */
  }
</style>

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Include SweetAlert CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">
<body>
      <link rel="preload" href="styles.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script>
  // Example alert with image
  Swal.fire({
    title: 'à¶´à·œà·ƒà·œà¶±à·Š à·ƒà·”à¶¶ à¶´à·à¶­à·”à¶¸à·Šà¶´à¶­à·Š à¶½à¶¶à· à¶œà·à¶±à·“à¶¸à¶§ â„™ğ•™ğ• ğ•Ÿğ•– à¶‘à¶šà¶šà·Š à¶±à¶¸à·Š à¶…à¶¯à·à¶½ à¶»à·–à¶´à¶º à¶¸à¶­ à¶¯à·’à¶œà¶§à¶¸ ğ•‹ğ• ğ•¦ğ•”ğ•™ à¶šà¶»à¶œà·™à¶± à¶†à¶´à·” à¶¸à·™à¶±à·” à¶‘à¶šà·š ğ”»ğ• ğ•¨ğ•Ÿğ•ğ• ğ•’ğ•• ğ•€ğ•ğ•’ğ•˜ğ•– à¶¯à·™à¶±à·Šà¶±.à¶´à¶»à·’à¶œà¶«à¶šà¶ºà¶šà·Š à¶±à¶¸à·Š à¶»à·–à¶´à¶º à¶¸à¶­ â„ğ•šğ•˜ğ•™ğ•¥ â„‚ğ•ğ•šğ•”ğ•œ à¶šà¶» ğ•Šğ•’ğ•§ğ•– ğ•€ğ•ğ•’ğ•˜ğ•– à¶¯à·™à¶±à·Šà¶±',
    imageUrl: 'https://cdn.glitch.global/e2300227-163f-40cc-b7d5-7af03f056e1a/poson-poya-day-greeting-card-260nw-1989376727%20(1).png?v=1717848146877',
    imageAlt: 'Custom Image',
    confirmButtonText: 'OK'
  });
</script>
  

  
  <link rel="icon" type="image/x-icon" href="https://cdn.glitch.global/3e0381c4-a312-453a-a06d-22aaaffe8cb5/stock-vector-glowing-neon-line-dharma-wheel-icon-isolated-black-background-buddhism-modified.ico?v=1716615964861">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta property="og:title" content=" Digital Vesak E-Card Generator">
    <meta property="og:description" content="Craft custom Vesak cards with ease Digital Vesak E-Card Generator. Share warmth and blessings with personalized designs for loved ones!">
    <meta property="og:image" content="https://siyathatv.lk/onlinevesakzone2024/send-a-greeting/vesakcardsog.png">
    <title>Methuka Madew Digital Vesak E-Card Generator</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" integrity="sha512-KfkfwYDsLkIlwQp6LFnl8zNdLGxu9YAA1QvwINks4PhcElQSvqcyVLLD9aMhXd13uQjoXtEKNosOWaZqXgel0g==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <style>
        body {
            font-family: 'Montserrat', sans-serif;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            background-image: url(https://siyathatv.lk/onlinevesakzone2024/send-a-greeting/bg.webp);
            background-repeat: no-repeat;
            background-position: center;
            background-attachment: fixed;
            background-size: cover;
        }
        .header {
            text-align: center;
            margin-bottom: 20px;
        }
        .header img {
            display: block;
            margin: 0 auto;
        }
        .responsive-image {
            width: 25vw;
            max-width: 22vw;
        }
        @media only screen and (max-width: 768px) {
            .responsive-image {
                width: 30vw;
                max-width: 100%;
            }
        }
        .container {
            text-align: center;
            border-radius: 10px;
            padding-bottom: 30px;
            box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2);
        }
        .input-fields {
            background-color: #ffffff54;
            padding: 10px;
            max-width: fit-content;
            margin: 0 auto;
            margin-bottom: 10px;
            display: flex;
            flex-direction: column;
            gap: 10px;
            align-items: center;
        }
        .cards {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 20px;
        }
        .card {
            position: relative;
            width: 630px;
            max-width: 100vw;
            height: 384px;
            border: none;
            background-color: #ffffff54;
            margin-bottom: 60px;
            border-radius: 10px;
            box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2);
        }
        .card canvas {
            width: 100%;
            height: auto;
        }
        .buttons {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 10px;
            padding: 10px;
        }
        .button-loader {
            position: relative;
            overflow: hidden;
            opacity: 0.5;
            pointer-events: none;
        }
        .button-loader:after {
            content: "";
            position: absolute;
            top: 50%;
            left: 50%;
            width: 24px;
            height: 24px;
            margin: -12px 0 0 -12px;
            border: 4px solid #fff;
            border-top: 4px solid #3498db;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            box-sizing: border-box;
            transform-origin: 50% 50%;
        }
        @keyframes spin {
            0% { 
                transform: rotate(0deg); 
            }
            100% { 
                transform: rotate(360deg); 
            }
        }
        .button-container {
            display: none;
        }
        .button-container a,
        .button-container button {
            padding: 15px 20px;
            border: none;
            cursor: pointer;
            color: #fff;
            font-size: 16px;
            text-decoration: none!important;
            text-align: center;
            border-radius: 5px;
        }
        .button-container a {
            background-color: #4CAF50;
        }
        .button-container button {
            background-color: #38a3a5;
        }
        .button-container a:hover,
        .button-container button:hover {
            opacity: 0.8;
        }
        .button {
            display: inline-block;
            outline: 0;
            border: 0;
            cursor: pointer;
            color: #fff;
            font-weight: 500;
            border-radius: 4px;
            font-size: 14px;
            height: 30px;
            padding: 0px 15px;
            text-shadow: rgb(0 0 0 / 25%) 0px 3px 8px;
            background: linear-gradient(92.88deg, rgb(69, 94, 181) 9.16%, rgb(86, 67, 204) 43.89%, rgb(103, 63, 215) 64.72%);
            transition: all 0.5s ease 0s;
        }
        .button:hover {
            box-shadow: rgb(80 63 205 / 50%) 0px 1px 40px;
            transition: all 0.1s ease 0s;
        }
        input:required:invalid {
            border-color: red;
        }
        .error {
            color: red;
            font-size: smaller;
            display: none;
        }
        input:required:invalid + .error {
            display: block;
        }
    </style>
</head>
<body>
    <div class="header">
        <img class="responsive-image" data-bss-hover-animate="pulse" src="https://siyathatv.lk/onlinevesakzone2024/assets/img/vesak-card-BT.png">
        <a href="https://0-002.glitch.me/">
            <img class="responsive-image" data-bss-hover-animate="pulse" src="https://cdn.glitch.global/e2300227-163f-40cc-b7d5-7af03f056e1a/poson-poya-day-greeting-card-260nw-1989376727%20(1)%20(1).png?v=1717848369006">
        </a>
    </div>
    
    <div class="container">
        <div class="input-fields">
            <label for="from">à·€à·’à·ƒà·’à¶±à·Š :</label>
            <input type="text" id="from" name="from" placeholder="à¶ºà·€à¶±à·Šà¶±à·à¶œà·š à¶±à¶¸" required minlength="1">
            <span class="error"></span>
            <label for="to">à·€à·™à¶­ :</label>
            <input type="text" id="to" name="to" placeholder="à¶½à¶¶à¶±à·Šà¶±à·à¶œà·š à¶±à¶¸" required minlength="1">
            <span class="error"></span>
            <button class="button" onclick="generateCards()" disabled>Generate Cards</button>
        </div>

        <div class="cards" id="cards"></div>
    </div>

    <script>
        const fromInput = document.getElementById('from');
        const toInput = document.getElementById('to');
        const generateButton = document.querySelector('.button');

        fromInput.addEventListener('input', () => {
            generateButton.disabled = !(fromInput.checkValidity() && toInput.checkValidity());
        });

        toInput.addEventListener('input', () => {
            generateButton.disabled = !(fromInput.checkValidity() && toInput.checkValidity());
        });

        const images = [
            'https://cdn.glitch.global/e2300227-163f-40cc-b7d5-7af03f056e1a/7.png?v=1717894191464', 
            'https://cdn.glitch.global/e2300227-163f-40cc-b7d5-7af03f056e1a/Screenshot%202024-06-09%20003651.png?v=1717896650972', 
            'https://cdn.glitch.global/e2300227-163f-40cc-b7d5-7af03f056e1a/5555555555555555555%20(1).png?v=1717896537625', 
            'https://cdn.glitch.global/e2300227-163f-40cc-b7d5-7af03f056e1a/gggggggggggg.png?v=1717895665675', 
            'https://cdn.glitch.global/e2300227-163f-40cc-b7d5-7af03f056e1a/kkkkkkkkkkkkkk%20(2).png?v=1717899781024', 
            'https://cdn.glitch.global/e2300227-163f-40cc-b7d5-7af03f056e1a/lkkkkkkkkkkkk%20(1)%20(1).png?v=1717896792681',
        ];

        function generateCards() {
            const to = document.getElementById('to').value;
            const from = document.getElementById('from').value;
            const cardsContainer = document.getElementById('cards');
            cardsContainer.innerHTML = '';

            images.forEach((image, index) => {
                const card = document.createElement('div');
                card.className = 'card';

                const canvas = document.createElement('canvas');
                canvas.width = 1260;
                canvas.height = 768;
                card.appendChild(canvas);

                const ctx = canvas.getContext('2d');

                const greetingImage = new Image();
                greetingImage.src = image;

                greetingImage.onload = () => {
                    ctx.drawImage(greetingImage, 0, 0, canvas.width, canvas.height);
                    ctx.font = '60px Arial';
                    ctx.fillStyle = 'white';
                    ctx.fillText(`${from}`, 600, 583);
                    ctx.fillText(`${to}`, 600, 666);
                };

                const buttons = document.createElement('div');
                buttons.className = 'buttons';

                const downloadButton = document.createElement('button');
                downloadButton.textContent = 'Download';
                downloadButton.className = 'button';
                downloadButton.onclick = () => {
                    const link = document.createElement('a');
                    link.href = canvas.toDataURL();
                    link.download = `greeting-card-${index + 1}.png`;
                    link.click();
                };

                const waButton = document.createElement('button');
                waButton.className = 'button';
                waButton.textContent = 'Share on WhatsApp';
                waButton.onclick = () => shareOnWhatsApp(canvas, to, from);

                buttons.appendChild(downloadButton);
                buttons.appendChild(waButton);
                card.appendChild(buttons);

                cardsContainer.appendChild(card);
            });
        }

        async function shareOnWhatsApp(canvas, to, from) {
            const dataUrl = canvas.toDataURL('image/png');
            const blob = dataURLToBlob(dataUrl);
            const formData = new FormData();
            const imageName = `greeting_card_${Date.now()}.png`;
            formData.append('file', blob, imageName);

            try {
                const response = await fetch('upload.php', {
                    method: 'POST',
                    body: formData
                });
                const result = await response.json();
                if (result.success) {
                    const uniqueUrl = `https://siyathatv.lk/onlinevesakzone2024/send-a-greeting/generate_card.php?image=${encodeURIComponent(imageName)}&to=${encodeURIComponent(to)}&from=${encodeURIComponent(from)}`;
                    const message = `Send a Vesak greeting to your friend or family: ${uniqueUrl}`;
                    const waUrl = `https://wa.me/?text=${encodeURIComponent(message)}`;

                    window.location.href = waUrl;
                } else {
                    console.error('Failed to upload image');
                }
            } catch (error) {
                console.error('Error:', error);
            }
        }

        function dataURLToBlob(dataUrl) {
            const binary = atob(dataUrl.split(',')[1]);
            const array = [];
            for (let i = 0; i < binary.length; i++) {
                array.push(binary.charCodeAt(i));
            }
            return new Blob([new Uint8Array(array)], { type: 'image/png' });
        }
    </script>
</body>
</html>
